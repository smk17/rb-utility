"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ConsoleHelper=_interopRequireDefault(require("./ConsoleHelper")),_ErrorHelper=_interopRequireDefault(require("./ErrorHelper")),_TypeHelper=_interopRequireDefault(require("./TypeHelper")),_JsonHelper=_interopRequireDefault(require("./JsonHelper"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var l=0;l<r.length;l++){var o=r[l];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,r,l){return r&&_defineProperties(e.prototype,r),l&&_defineProperties(e,l),e}var Environment=function(){function n(){_classCallCheck(this,n)}return _createClass(n,null,[{key:"s_globalErrorCallback",value:function(e){n.isDebug?_ConsoleHelper.default.error({message:e.message,stack:_ErrorHelper.default.__printException(e)}):_ConsoleHelper.default.error("当前操作失败，请联系系统管理员。"+(e.no?"操作编号："+e.no:""))}},{key:"initialize",value:function(e){n.s_data=e}},{key:"writeLog",value:function(e,r){if(n.loggerLevel<=e&&r){var l={isException:_TypeHelper.default.isType(r,Error),loggerLevel:e,url:window.location.href};if(_TypeHelper.default.isString(r))l.message=r;else{var o,a={};for(var t in _TypeHelper.default.isError(r)&&(a.message=r.message,a.stack=r.stack),r)r.hasOwnProperty(t)&&("string"!=typeof(o=r[t])&&(o=_JsonHelper.default.toJson(o)),a[t]=o);l.additionData=a}}}},{key:"resetGlobalErrorCallback",value:function(){n.globalErrorCallback=n.s_globalErrorCallback}},{key:"__processError",value:function(e){n.globalErrorCallback&&n.globalErrorCallback(e)}},{key:"tierFadeTime",get:function(){return n.s_data.tierFadeTime}},{key:"isDebug",get:function(){return n.s_data.isDebug}},{key:"loggerLevel",get:function(){return n.s_data.loggerLevel}},{key:"location",get:function(){return n.s_data.location}}]),n}();(exports.default=Environment).s_data={tierFadeTime:200,isDebug:!1,loggerLevel:6,location:"zh-cn"},Environment.globalErrorCallback=Environment.s_globalErrorCallback;
//# sourceMappingURL=Environment.js.map
