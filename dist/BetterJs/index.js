"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("whatwg-fetch");var _utils=_interopRequireDefault(require("./utils"));function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}var BetterJs=function(){function r(){}return r.init=function(r){var i=_utils.default.objectMerge({jsError:!0,resourceError:!0,ajaxError:!0,consoleError:!0,scriptError:!1,autoReport:!0,filters:[],levels:["info","warning","error"],category:["js","resource","ajax"]},r);i.scriptError||i.filters.push(function(){return/^Script error\.?$/.test(arguments[0])});var s=i.sendError;i.sendError=function(r,e,t,o,u){try{var n=this;if(i.filters.some(function(r){return _utils.default.isFunction(r)&&r.apply(n,arguments)}))return;if(s.apply(this,arguments),i.autoReport)return}catch(r){s({title:"BetterJs",msg:r,category:"js"})}};var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=e.addEventListener||e.attachEvent;i.jsError&&_utils.default.handleWindowError(e,i),i.jsError&&_utils.default.handleRejectPromise(e,i),i.resourceError&&t&&_utils.default.handleResourceError(e,i),i.ajaxError&&_utils.default.handleAjaxError(e,i),i.consoleError&&_utils.default.handleConsoleError(e,i)},r}(),_default=BetterJs;exports.default=_default;
//# sourceMappingURL=index.js.map
